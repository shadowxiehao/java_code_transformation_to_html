<!DOCTYPE html>
<html>
<head>
<title>
generated by JavaSyntaxHighlighter
</title>
<style type="text/css">
pre{font-family:'Microsoft Yahei';font-size:20;}
.key{color:#000080;font-weight:bold;}
.note{color:#808080;font-weight:bold;font-style:italic;}
.str{color:#008000;font-weight:bold;}
.opr{color:#DB380D;font-weight:bold;}
</style>
</head>
<body>
<pre> <span class='key'>package</span> text_level; 

 <span class='key'>import</span> org.junit.jupiter.api.Test; 

 <span class='key'>import</span> java.io.BufferedReader; 
 <span class='key'>import</span> java.io.FileReader; 
 <span class='key'>import</span> java.io.PrintWriter; 

<span class='note'>/**</span>
 <span class='note'>* @author XieHao 谢昊</span>
 <span class='note'>* 这个类主要进行文本格式层面的转化</span>
 <span class='note'>*/</span>
 <span class='key'>public</span> <span class='key'>class</span> Transform <span class='opr'>{</span> 
     String a,b <span class='opr'>=</span> <span class='key'>new</span> String<span class='opr'>(</span><span class='opr'>)</span>; 

     <span class='key'>public</span> Transform<span class='opr'>(</span><span class='opr'>)</span><span class='opr'>{</span> 
         ; 
     <span class='opr'>}</span> 

    <span class='note'>/**</span>
     <span class='note'>* 这个函数用于获取字符文本的所在地址和输出地址 并进行转化后 输出html到指定地址</span>
     <span class='note'>*</span>
     <span class='note'>* @throws Exception 读取文件时可能产生的exception</span>
     <span class='note'>*/</span>
     @Test 
     <span class='key'>public</span> <span class='key'>void</span> main_transform<span class='opr'>(</span><span class='opr'>)</span> <span class='key'>throws</span> Exception <span class='opr'>{</span> 
         BufferedReader br <span class='opr'>=</span> <span class='key'>new</span> BufferedReader<span class='opr'>(</span>new FileReader<span class='opr'>(</span>"F:\\study&work\\works\\java\\class_design\\curriculum design\\src\\text_level\\Transform.java"<span class='opr'>)</span><span class='opr'>)</span>; 
         PrintWriter pw <span class='opr'>=</span> <span class='key'>new</span> PrintWriter<span class='opr'>(</span>"F:\\study&work\\works\\java\\class_design\\curriculum design\\src\\test\\b.html"<span class='opr'>)</span>; 
         pw.write<span class='opr'>(</span><span class='str'>"&lthtml<span class='opr'>></span>&ltbody<span class='opr'>></span>\n&ltpre<span class='opr'>></span>&ltwhite<span class='opr'>-</span>space: pre<span class='opr'>></span>"</span><span class='opr'>)</span>; 
         String str <span class='opr'>=</span> null; 
         <span class='key'>while</span> <span class='opr'>(</span><span class='opr'>(</span>str <span class='opr'>=</span> br.readLine<span class='opr'>(</span><span class='opr'>)</span><span class='opr'>)</span> !<span class='opr'>=</span> null<span class='opr'>)</span> <span class='opr'>{</span> 
             pw.write<span class='opr'>(</span>process<span class='opr'>(</span>str<span class='opr'>)</span><span class='opr'>)</span>; 
         <span class='opr'>}</span> 
         pw.write<span class='opr'>(</span><span class='str'>"&lt<span class='opr'>/</span>body<span class='opr'>></span>&lt<span class='opr'>/</span>html<span class='opr'>></span>"</span><span class='opr'>)</span>; 
         br.close<span class='opr'>(</span><span class='opr'>)</span>; 
         pw.close<span class='opr'>(</span><span class='opr'>)</span>; 
         System.out.println<span class='opr'>(</span><span class='str'>"ok"</span><span class='opr'>)</span>; 
     <span class='opr'>}</span> 

    <span class='note'>/**</span>
     <span class='note'>* 读取java格式string 转化为 html格式 string</span>
     <span class='note'>*</span>
     <span class='note'>* @param s java格式的字符串</span>
     <span class='note'>* @return html格式的字符串</span>
     <span class='note'>*/</span>
     @Test 
     <span class='key'>public</span> String process<span class='opr'>(</span>String s<span class='opr'>)</span> <span class='opr'>{</span> 
         <span class='key'>int</span> len <span class='opr'>=</span> s. length<span class='opr'>(</span><span class='opr'>)</span><span class='note'>; <span class='opr'>/</span><span class='opr'>/</span>定义字符串长度len</span>
         StringBuilder sb <span class='opr'>=</span> <span class='key'>new</span> StringBuilder<span class='opr'>(</span><span class='opr'>)</span>; 
         char[] ch <span class='opr'>=</span> <span class='key'>new</span> ch ar[len];<span class='note'> <span class='opr'>/</span><span class='opr'>/</span>创建长度为len的字符数组</span>
         ch <span class='opr'>=</span> s.toCha rArray<span class='opr'>(</span><span class='opr'>)</span><span class='note'>; <span class='opr'>/</span><span class='opr'>/</span>转为字符数组 方便判断</span>


         <span class='key'>for</span> <span class='opr'>(</span>char i : ch<span class='opr'>)</span> <span class='opr'>{</span> 
             <span class='key'>switch</span> <span class='opr'>(</span>i<span class='opr'>)</span> <span class='opr'>{</span> 
                 <span class='key'>case</span> '&': 
                     sb.append<span class='opr'>(</span><span class='str'>"&"</span><span class='opr'>)</span>; 
                     break; 
                 <span class='key'>case</span> ' ': 
                     sb.append<span class='opr'>(</span><span class='str'>" "</span><span class='opr'>)</span>; 
                     break; 
                 <span class='key'>case</span> '&lt': 
                     sb.append<span class='opr'>(</span><span class='str'>"&lt"</span><span class='opr'>)</span>; 
                     break; 
                 <span class='key'>case</span> '<span class='opr'>></span>': 
                     sb.append<span class='opr'>(</span><span class='str'>"<span class='opr'>></span>"</span><span class='opr'>)</span>; 
                     break; 
                 <span class='key'>case</span> '"': 
                     sb.append<span class='opr'>(</span><span class='str'>" \"</span> "<span class='opr'>)</span>; 
                     break; 
                 <span class='key'>case</span> '\t': 
                     sb.append<span class='opr'>(</span><span class='str'>"    "</span><span class='opr'>)</span>; 
                     break; 
                 default: 
                     sb.append<span class='opr'>(</span>i<span class='opr'>)</span>; 
             <span class='opr'>}</span> 
         <span class='opr'>}</span> 

         String string <span class='opr'>=</span> sb.toString<span class='opr'>(</span><span class='opr'>)</span>; 
         string <span class='opr'>=</span> string.replaceAll<span class='opr'>(</span><span class='str'>"public"</span>, <span class='str'>"&ltb<span class='opr'>></span>public&lt<span class='opr'>/</span>b<span class='opr'>></span>"</span><span class='opr'>)</span>; 
         string <span class='opr'>=</span> string.replaceAll<span class='opr'>(</span><span class='str'>"class"</span>, <span class='str'>"&ltb<span class='opr'>></span>class&lt<span class='opr'>/</span>b<span class='opr'>></span>"</span><span class='opr'>)</span>; 
         string <span class='opr'>=</span> string.replaceAll<span class='opr'>(</span><span class='str'>"static"</span>, <span class='str'>"&ltb<span class='opr'>></span>static&lt<span class='opr'>/</span>b<span class='opr'>></span>"</span><span class='opr'>)</span>; 
         string <span class='opr'>=</span> string.replaceAll<span class='opr'>(</span><span class='str'>"main"</span>, <span class='str'>"&ltb<span class='opr'>></span>main&lt<span class='opr'>/</span>b<span class='opr'>></span>"</span><span class='opr'>)</span>; 
         string <span class='opr'>=</span> string.replaceAll<span class='opr'>(</span><span class='str'>"void"</span>, <span class='str'>"&ltb<span class='opr'>></span>void&lt<span class='opr'>/</span>b<span class='opr'>></span>"</span><span class='opr'>)</span>; 
         <span class='key'>int</span> n <span class='opr'>=</span> string.lastIndexOf<span class='opr'>(</span>"\\<span class='opr'>/</span>\\<span class='opr'>/</span>"<span class='opr'>)</span>; 
         <span class='key'>if</span> <span class='opr'>(</span>n !<span class='opr'>=</span> <span class='opr'>-</span>1<span class='opr'>)</span> <span class='opr'>{</span> 
             String temp <span class='opr'>=</span> string.substring<span class='opr'>(</span>n<span class='opr'>)</span>; 
             string <span class='opr'>=</span> string.replaceAll<span class='opr'>(</span>temp, <span class='str'>"&ltfont color<span class='opr'>=</span>green<span class='opr'>></span>"</span> <span class='opr'>+</span> temp <span class='opr'>+</span> <span class='str'>"&lt<span class='opr'>/</span>font<span class='opr'>></span>"</span><span class='opr'>)</span>; 
         <span class='opr'>}</span> 
         string <span class='opr'>+</span><span class='opr'>=</span> <span class='str'>"&ltbr<span class='opr'>/</span><span class='opr'>></span>\n"</span>; 
         <span class='key'>return</span> string; 
     <span class='opr'>}</span> 
 <span class='opr'>}</span> 
</pre>
</body>
</html>